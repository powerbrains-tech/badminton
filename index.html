<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Ñ‡∏¥‡∏ß‡πÅ‡∏ö‡∏î‡∏°‡∏¥‡∏ô‡∏ï‡∏±‡∏ô (Badminton Queue)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Kanit', sans-serif; background-color: #f3f4f6; }
        .court-card { background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%); }
    </style>
</head>
<body class="p-4 md:p-8 max-w-lg mx-auto">

    <div class="text-center mb-6">
        <h1 class="text-3xl font-bold text-gray-800">üè∏ Badminton Queue</h1>
        <p class="text-gray-500">‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Ñ‡∏¥‡∏ß‡πÅ‡∏ö‡∏ö‡∏á‡πà‡∏≤‡∏¢</p>
    </div>

    <div class="bg-white p-4 rounded-xl shadow-md mb-6">
        <h2 class="font-bold text-lg mb-2">1. ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</h2>
        <div class="flex gap-2">
            <input type="text" id="playerName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô (‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡∏ô‡∏ó‡πå, ‡∏ö‡∏≠‡∏¢)" 
                   class="flex-1 border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-400"
                   onkeypress="handleEnter(event)">
            <button onclick="addPlayer()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 font-bold">+</button>
        </div>
        <div class="mt-4">
            <p class="text-sm text-gray-500 mb-1">‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (<span id="count">0</span> ‡∏Ñ‡∏ô)</p>
            <div id="playerList" class="flex flex-wrap gap-2">
                </div>
        </div>
    </div>

    <div class="mb-6">
        <button onclick="generateMatch()" class="w-full bg-green-600 text-white text-xl py-3 rounded-xl shadow-lg hover:bg-green-700 active:scale-95 transition font-bold">
            üöÄ ‡∏™‡∏∏‡πà‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏•‡∏á‡∏™‡∏ô‡∏≤‡∏°!
        </button>
    </div>

    <div id="courtSection" class="hidden">
        <h2 class="font-bold text-lg mb-2 text-gray-700">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô üü¢</h2>
        <div class="court-card p-4 rounded-xl shadow-lg text-white text-center relative">
            <div class="absolute top-2 left-2 bg-white/20 px-2 py-0.5 rounded text-xs">Court 1</div>
            
            <div class="flex justify-between items-center mt-4">
                <div class="w-5/12">
                    <div class="text-2xl font-bold" id="team1_1">Player A</div>
                    <div class="text-2xl font-bold" id="team1_2">Player B</div>
                </div>
                <div class="text-xl font-bold text-white/80">VS</div>
                <div class="w-5/12">
                    <div class="text-2xl font-bold" id="team2_1">Player C</div>
                    <div class="text-2xl font-bold" id="team2_2">Player D</div>
                </div>
            </div>

            <button onclick="finishMatch()" class="mt-6 w-full bg-white text-green-700 py-2 rounded-lg font-bold hover:bg-gray-100">
                üèÅ ‡∏à‡∏ö‡πÄ‡∏Å‡∏° (‡∏Ñ‡∏∑‡∏ô‡∏Ñ‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏≠‡∏á‡∏Å‡∏•‡∏≤‡∏á)
            </button>
        </div>
    </div>

    <script>
        // State ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        let players = [];
        let isPlaying = false;

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠
        function addPlayer() {
            const input = document.getElementById('playerName');
            const name = input.value.trim();
            
            if (name) {
                players.push(name);
                input.value = '';
                renderPlayers();
            }
        }

        // ‡∏Å‡∏î Enter ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
        function handleEnter(e) {
            if (e.key === 'Enter') addPlayer();
        }

        // ‡∏•‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å
        function removePlayer(index) {
            players.splice(index, 1);
            renderPlayers();
        }

        // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠
        function renderPlayers() {
            const list = document.getElementById('playerList');
            const count = document.getElementById('count');
            list.innerHTML = '';
            
            players.forEach((p, index) => {
                list.innerHTML += `
                    <div class="bg-gray-100 px-3 py-1 rounded-full flex items-center gap-2 text-gray-700">
                        ${p}
                        <button onclick="removePlayer(${index})" class="text-red-400 hover:text-red-600 font-bold">√ó</button>
                    </div>
                `;
            });
            count.innerText = players.length;
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏∏‡πà‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà (Logic ‡∏´‡∏•‡∏±‡∏Å)
        function generateMatch() {
            if (isPlaying) {
                alert("‡∏°‡∏µ‡∏Ñ‡∏ô‡πÅ‡∏Ç‡πà‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏Ñ‡∏£‡∏±‡∏ö ‡∏Å‡∏î‡∏à‡∏ö‡πÄ‡∏Å‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞!");
                return;
            }
            if (players.length < 4) {
                alert("‡∏Ñ‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö 4 ‡∏Ñ‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö ‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏°‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡∏ô‡πà‡∏≠‡∏¢!");
                return;
            }

            // ‡∏™‡∏∏‡πà‡∏° 4 ‡∏Ñ‡∏ô
            // ‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ Shuffle Array ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏¢‡∏¥‡∏ö 4 ‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å
            const shuffled = [...players].sort(() => 0.5 - Math.random());
            const selected = shuffled.slice(0, 4);

            // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
            document.getElementById('team1_1').innerText = selected[0];
            document.getElementById('team1_2').innerText = selected[1];
            document.getElementById('team2_1').innerText = selected[2];
            document.getElementById('team2_2').innerText = selected[3];

            document.getElementById('courtSection').classList.remove('hidden');
            isPlaying = true;
        }

        // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏ö‡πÄ‡∏Å‡∏°
        function finishMatch() {
            if(confirm("‡∏à‡∏ö‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πà‡πÑ‡∏´‡∏°?")) {
                document.getElementById('courtSection').classList.add('hidden');
                isPlaying = false;
            }
        }
    </script>
</body>
</html>
